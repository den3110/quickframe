<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nested Sidebar Menu</title>
    <style>
      * {
        box-sizing: border-box;
      }
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f5f5f5;
      }

      .wrapper-sidebar {
        position: fixed;
        display: flex;
        align-items: center;
        height: 100vh;
        /* width: 0; */
        /* overflow: hidden; */
      }

      .sidebar {
        width: 300px;
        background-color: #ffffff;
        box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
        padding: 20px;

        height: 100%;
      }

      .sidebar ul {
        list-style-type: none;
        padding: 0;
        margin: 0;
      }

      .sidebar .menu-item {
        position: relative;
        margin-bottom: 10px;
      }

      .sidebar .menu-item a {
        text-decoration: none;
        color: #333;
        display: block;
        padding: 10px 15px;
        background-color: #f5f5f5;
        border-radius: 5px;
        transition: background-color 0.3s;
      }

      .sidebar .menu-item a:hover {
        background-color: #ddd;
      }

      .sidebar .submenu {
        display: none;
        position: absolute;
        top: 0;
        left: 100%;
        width: 200px;
        background-color: #fff;
        box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
        padding-left: 0;
      }

      .sidebar .submenu li {
        margin-bottom: 0;
      }

      .sidebar .submenu li a {
        padding: 10px 15px;
        border-radius: 0;
      }

      .sidebar .submenu li a:hover {
        background-color: #eee;
      }
      .wrapper-sidebar-2,
      .wrapper-sidebar-3 {
        height: 100%;
        width: 0;
        overflow: hidden;
        transition: all 0.25s linear;
      }
      .sidebar-2 .menu-item a {
        display: none;
      }
    </style>
  </head>
  <body>
    <div class="wrapper-sidebar">
      <div class="sidebar sidebar-1">
        <ul></ul>
      </div>
      <div class="wrapper-sidebar-2">
        <div class="sidebar sidebar-2">
          <ul></ul>
        </div>
      </div>
      <div class="wrapper-sidebar-3">
        <div class="sidebar sidebar-3">
          <ul></ul>
        </div>
      </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script>
      $(window).click(function () {
        //Hide the menus if visible
        $(".wrapper-sidebar").removeClass("active")
      });

      $(".wrapper-sidebar").click(function (event) {
        event.stopPropagation();
      });

      const data1 = [
        {
          id: 1,
          link: "/a",
          text: "Giải pháp",
        },
        { id: 2, link: "/b", text: "Kiến thức nhân sự" },
        { id: 3, link: "/c", text: "Tin tức" },
        { id: 4, link: "/d", text: "Sự kiện" },
        { id: 5, link: "/e.html", text: "Eshop" },
        { id: 5, link: "/e", text: "Cơ hội nghề ngiệp" },
      ];
      const data2 = [
        {
          parentId: 1,
          id: 11,
          link: "/aa",
          text: "Dịch vụ tư vấn doanh nghiệp",
        },
        {
          parentId: 1,
          id: 12,
          link: "/aa",
          text: "Dịch vu 2",
        },
        {
          parentId: 2,
          id: 13,
          link: "/aa",
          text: "Ngao vkl",
        },
      ];
      const data3 = [
        {
          parentId: 11,
          id: 111,
          link: "/aa",
          text: "Cachahaha",
        },
        {
          parentId: 12,
          id: 112,
          link: "/aa",
          text: "Cachahaha11111",
        },
        {
          parentId: 13,
          id: 112,
          link: "/aa",
          text: "Xyz",
        },
      ];
      $(document).ready(function () {
        document.querySelector(".sidebar-1 ul").innerHTML = data1
          ?.map(
            (item, key) => `
            <li data-sidebar="${item.id}" class="menu-item">
                <a href="${item.link}">${item.text}</a>
            </li>
        `
          )
          .join("");
        $(".menu-item > a").click(function (e) {
          $submenu.slideToggle();
        });
        document.querySelectorAll(".sidebar-1 .menu-item").forEach((item) => {
          item.addEventListener("mouseenter", function () {
            if (
              data2?.filter(
                (item2) =>
                  item2.parentId === parseInt(item.getAttribute("data-sidebar"))
              )?.length > 0
            ) {
              $(".wrapper-sidebar-3").css("width", 0);
              $(".sidebar-3 a").css("display", "none");
              $(".wrapper-sidebar-2").css("width", 300);
              $(".sidebar-2 .menu-item a").css("display", "block");
              document.querySelector(".sidebar-2 ul").innerHTML = data2
                ?.filter(
                  (item2) =>
                    item2.parentId ===
                    parseInt(item.getAttribute("data-sidebar"))
                )
                ?.map(
                  (item, key) => `
                    <li data-sidebar="${item.id}" class="menu-item">
                        <a href="${item.link}">${item.text}</a>
                    </li>
                `
                )
                .join("");
              document
                .querySelectorAll(".sidebar-2 .menu-item")
                .forEach((item) => {
                  item.addEventListener("mouseenter", function () {
                    if (
                      data3?.filter(
                        (item2) =>
                          item2.parentId ===
                          parseInt(item.getAttribute("data-sidebar"))
                      )?.length > 0
                    ) {
                      $(".wrapper-sidebar-3").css("width", 300);
                      $(".sidebar-3 .menu-item a").css("display", "block");
                      document.querySelector(".sidebar-3 ul").innerHTML = data3
                        ?.filter(
                          (item2) =>
                            item2.parentId ===
                            parseInt(item.getAttribute("data-sidebar"))
                        )
                        ?.map(
                          (item, key) => `
                                    <li data-sidebar="${item.id}" class="menu-item">
                                        <a href="${item.link}">${item.text}</a>
                                    </li>
                                `
                        )
                        .join("");
                    } else {
                      $(".wrapper-sidebar-3").css("width", 0);
                      $(".sidebar-3 .menu-item a").css("display", "none");
                    }
                  });
                });
              $(".sidebar-2 .menu-item a").css("display", "block");
            } else {
              $(".wrapper-sidebar-2").css("width", 0);
              $(".sidebar-2 a").css("display", "none");
              $(".wrapper-sidebar-3").css("width", 0);
              $(".sidebar-3 a").css("display", "none");
            }
          });
        });
      });
    </script>
  </body>
</html>
